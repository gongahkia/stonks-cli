stonks-cli TODOs (philosophy-aligned)
Date: 2026-01-04

Project intent (as implemented today)
- Batteries-included, deterministic-friendly stock analysis CLI.
- Fetches daily OHLCV (default: Stooq), computes heuristic strategy signals + simple risk hints.
- Writes human-readable reports (and optional JSON) to reports/, tracks last run + history.
- Extensible via plugins (strategies + provider factories) and runnable on a schedule.

====================
P0 — Correctness / Reliability
====================


====================
P1 — CLI UX (keep it simple)
====================


====================
P1 — Data + Caching
====================

====================
P1 — Performance (without complexity)
====================


====================
P2 — Analysis + Risk Model Tweaks (still heuristic)
====================
====================
P2 — Reporting
====================
[ ] Add a stable report filename option.
    - E.g. --name report_latest.txt or --prefix, useful for scheduler + dashboards.

[ ] Write CSV summary alongside text report (optional flag).
    - One row per ticker: action/confidence/cagr/sharpe/maxdd.

[ ] Improve report readability for many tickers.
    - Consider sorting by action/confidence or allow deterministic ordering only.

====================
P2 — Scheduler
====================
[ ] Better scheduler failure behavior.
    - Today: an exception in job() is re-raised; decide whether scheduler should keep running.
    - Suggest: catch, log, continue, and optionally track last failure in state.json.

[ ] Add `schedule run --sandbox` parity with `schedule once`.

====================
P2 — Plugins (extensibility as a first-class feature)
====================
[ ] Add `stonks-cli plugins list`.
    - Show loaded plugin specs, strategies discovered, provider factories discovered.

[ ] Validate plugin return types.
    - Strategy fns should return Recommendation; provider factories should return an object with fetch_daily().

[ ] Publish an example plugin in asset/ (or examples/).
    - One simple strategy + one trivial provider factory (e.g., reads local CSV).

====================
P3 — Docs / Packaging / Quality
====================
[ ] Fill README placeholders (Stack / Screenshots / Architecture / Legal).
    - Keep it short and focused on install + “analyze/backtest/schedule/report/history”.

[ ] Add a minimal CI workflow.
    - Run pytest on push/PR for 3.11–3.13 (or whichever you support).

[ ] Add ruff formatting/linting + (optional) mypy.
    - Goal: keep the CLI stable and refactors safe.

[ ] Add tests for:
    - schedule timezone support
    - JSON report schema fields
    - cache TTL expiry behavior
    - doctor output keys (smoke)

====================
Future ideas (only if they fit the “CLI reports” ethos)
====================
[ ] Add a "watchlist" mode.
    - Manage named ticker sets (stored in config) and run analyze on a set.

[ ] Add a simple "signals diff".
    - Compare latest report vs previous run and highlight changes.

[ ] Add portfolio-aware summary.
    - You already compute an equal-weight portfolio equity; optionally print it in report header.

[ ] Optional interactive TUI could be added later, but keep core non-interactive and scriptable.
